<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Track Registration Status | Tourist Registration System</title>
    <link rel="stylesheet" href="../css/tracking.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="header-content">
        <div class="logo">Tourist Registration System</div>
        <div class="user-info">
          <div class="user-avatar">
            <a href="../index.html"><img src="../logo/tourismlogo.png" alt="User Avatar" width="65" /></a>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="welcome-panel">
        <h1>Track Registration Status</h1>
        <p>Enter your reference number to check your registration status.</p>

        <form id="trackForm" class="status-check-form">
          <div class="form-group">
            <label for="referenceNumberInput">Reference Number</label>
            <input
              type="text"
              id="referenceNumberInput"
              name="referenceNumberInput"
              placeholder="e.g., TR2410-X9A2B"
              required
            />
          </div>
          <button type="submit" class="primary-button">Check Status</button>
        </form>

        <div id="statusResult" class="hidden status-result-container">
          <p><strong>Reference Number:</strong> <span id="displayRefNo"></span></p>

          <p><strong>Tourist Name:</strong> <span id="displayTouristName"></span></p>

          <p><strong>Registration Type:</strong> <span id="displayRegType"></span></p>

          <p><strong>Submission Date:</strong> <span id="displaySubmissionDate"></span></p>

          <p><strong>Status:</strong> <span id="displayStatus" class="status-text"></span></p>

          <div id="rejectionReasonContainer" class="hidden">
            <p style="color: red; margin-top: 10px"><strong>Reason for Rejection:</strong></p>
            <p id="displayRejectionReason" class="rejection-reason" style="color: #d32f2f"></p>
          </div>
        </div>

        <div id="trackingLoadingIndicator" class="hidden loading-indicator">
          <p>Searching database...</p>
        </div>

        <div id="trackingErrorMessage" class="hidden error-message-container">
          <p id="trackingErrorMessageText" style="color: red"></p>
        </div>

        <div id="resubmitActionContainer" class="action-footer hidden">
          <button id="startNewApplicationBtn" class="primary-button">Start New Application</button>
        </div>

        <div class="action-footer">
          <a href="../index.html" class="secondary-button">Back to Home</a>
        </div>
      </div>
    </div>

    <footer>
      &copy; <span id="currentYearTracking">2025</span> Tourist Registration System | All Rights Reserved
    </footer>

    <script src="../js/tracking.js"></script>
    <script>
      document.getElementById("currentYearTracking").textContent = new Date().getFullYear();
    </script>
  </body>
</html>
